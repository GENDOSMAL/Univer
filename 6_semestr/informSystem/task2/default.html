<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Малкеров Г.А. Задание 2</title>
</head>

<body>
    <script>
        function makeFirst() {
            window.location.href = 'http://localhost:3000';
            var result = parseInt(prompt("Введите длину списка для поиска в нем", "10"));
            var array = getRandomArray(result);
            var paramToFound = prompt("Введите значение элеменента для поиска из массива ниже \n[" + outArray(array) + "]", "4")
            var link = "/" + 1 + "?f=" + paramToFound + "&a=" + outArrayForLink(array);
            var d = window.open(link, "_blank")
            if (d) {
                d.focus();
            } else {
                alert('Разрешите открывать окна. Костыль и js одно целое!');
            }
        }

        function makeSecond() {
            var result = prompt("Введите среднее число дней на вашей планете чтобы понять когда год високостный", "365.5");
            var d = window.open("/" + 2 + "?d=" + result);
            if (d) {
                d.focus();
            } else {
                alert('Разрешите открывать окна. Костыль и js одно целое!');
            }
        }

        function getRandomArray(length) {
            var array = new Array(length);
            for (let i = 0; i < array.length; i++) {
                array[i] = getRandomInt(50)
            }
            return array;
        }

        function outArray(array) {
            var res = "";
            for (let i = 0; i < array.length; i++) {
                res += `${array[i]} `
            }
            return res;
        }

        function outArrayForLink(array) {
            var res = "";
            for (let i = 0; i < array.length; i++) {
                res += `${array[i]}_`
            }

            if (res.endsWith("_"))
                res = res.substring(0, res.length - 1)

            return res;
        }

        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }
    </script>
    <a href="" onclick="makeFirst()">Задание 1</a><br />
    <a href="" onclick="makeSecond()">Задание 2</a><br />
</body>

</html>