17. Для чего нужны макросы __init и __exit?
__init — это макрос, который будет преобразован в директиву компилятора, предписывающую компилятору поместить код в раздел .init окончательного ELF образа ядра Linux.
Раздел .init будет освобожден ядром из памяти во время загрузки после выполнения всех функций инициализации.
Поскольку встроенный драйвер не может быть выгружен, его функция инициализации не будет вызываться повторно до следующей перезагрузки, поэтому больше нет необходимости хранить ссылки на его функцию инициализации.
__exit действует как маркер для системы сборки, чтобы удалить функцию очистки в самом процессе сборки. Он не будет частью окончательного образа ядра.
